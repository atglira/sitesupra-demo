/**
 * Copyright (C) SiteSupra SIA, Riga, Latvia, 2015
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */

/*
 * Gallery displays list of images in a grid, where each image has a title
 * /local/Sample/Resources/view/blocks/gallery.html.twig
 */
.gallery {
	
	// Reset styles
	figure {
		margin: 0;
	}
	
	// Image
	.img {
		display: block;
		overflow: hidden;
		position: relative;
		
		a {
			display: block;
		}
		a[href] {
			&:before,
			&:after {
				cursor: pointer;
				content: "";
				position: absolute;
				display: block;
				opacity: 0;
				.transition(~'opacity @{animation-duration}');
			}
			&:before {
				background: rgba(0,0,0,0.7);
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
			}
			&:after {
				background: url(../img/gallery/overlay-icon.png) 0 0 no-repeat;
				left: 50%;
				top: 50%;
				margin: -20px 0 0 -20px;
				width: 39px;
				height: 39px;
			}
			
			&:hover:before,
			&:hover:after {
				opacity: 1;
			}
		}
		
		img {
			display: block;
			max-width: 100%;
			height: auto;
		}
	}
	
	// Text
	.text {
		padding: 10px 0;
		
		h2 {
			font-size: 18px;
			font-weight: normal;
			line-height: 1.5em;
			margin: 0;
		}
		p {
			font-size: 14px;
			line-height: 1.5em;
			margin: 3px 0 0;
		}
	}
}

// Gallery example 2
.gallery-2 {
	// Due to browser rounding there is a gap near last item on certain
	// resolutions
	@media screen and (min-width: 35em) {
		.pure-u-xl-1-3:nth-child(3n) {
			position: relative;
			margin-left: -1px;
		}
	}
	@media screen and (max-width: 34.499em) {
		.pure-u-1-2:nth-child(2n) {
			position: relative;
			margin-left: -1px;
		}
	}
}


// In CMS while editing image there are handles, which user can drag,
// for them to be visible, there can't be "overflow: hidden"
.supra-itemmanager .gallery {
	.img {
		overflow: visible;
		
		a:before,
		a:after {
			display: none;
		}
	}
}
