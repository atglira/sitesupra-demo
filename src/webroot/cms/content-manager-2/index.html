<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<title>Content Manager v2</title>
	
	<!-- Load all base (YUI, Loader, Supra) JS files at once -->
	<script src="/cms/yui.3.3.0/combo/combo.php?/cms/yui.3.3.0/build/yui/yui-min.js&amp;/cms/yui.3.3.0/build/loader/loader-min.js&amp;/cms/supra/build/supra/supra.js&amp;/cms/supra/build/supra/data.js&amp;/cms/supra/build/supra/modules.js"></script>
	
	<!-- Load all base CSS files at once -->
	<link rel="stylesheet" type="text/css" href="/cms/yui.3.3.0/combo/combo.php?/cms/yui.3.3.0/build/cssreset/reset.css&amp;/cms/supra/build/supra/reset.css&amp;/cms/supra/build/supra/common.css" />
	
</head>
<body>
	
	<div class="cms-header" id="cmsHeader"></div>
	<div class="cms-content" id="cmsContent"></div>
	
	<script type="text/javascript">
	//<![CDATA[
	
		Supra('supra.manager', 'supra.authorization', function (Y) {
			//Set current manager path
			Supra.Manager.Loader.setBasePath('/cms/content-manager-2/');
			Supra.setWebsiteModulePath('/cms/content-manager-2/');
			
			//Configuration / parameters
			Supra.data.set({
				//Session (used in Ajax requests)
				'sessionName': 'SID',
				'sessionId': 'REPLACE_WITH_SESSION_ID_STRING',
				
				//Date & time formats
				'dateFormat': 'dd.mm.yyyy',
				'timeFormat': '24',
				
				//User data
				'user': {
					'userid': 1,
					'username': 'Chuck Noriss',
					'avatar': null
				},
				
				//Page which will be initially loaded
				'page': {
					'id': 2
				},
				
				//Supra.HTMLEditor + plugins
				'supra.htmleditor': {
					'stylesheets': {
						'skip_default': false
					},
					'plugins': {
						'image': {
							'size': '200x200'
						}
					}
				},
				
				//Gallery manager
				'gallerymanager': {
					'properties': [
						{'id': 'title', 'type': 'String', 'label': 'Title', 'value': ''},
						{'id': 'description', 'type': 'String', 'label': 'Description', 'value': ''},
						{'id': 'author', 'type': 'String', 'label': 'Author name', 'value': ''}
					]
				},
				
				//Languages
				'locale': 'lv_LV',
				
				'contexts': [
					{
						'id': 'LV',
						'title': 'Latvia',
						'languages': [{'id': 'lv', 'title': 'Latvian'}, {'id': 'ru', 'title': 'Russian'}, {'id': 'en', 'title': 'English'}]
					},
					{
						'id': 'RU',
						'title': 'Russia',
						'languages': [{'id': 'ru', 'title': 'Russian'}]
					},
					{
						'id': 'GB',
						'title': 'United Kingdom',
						'languages': [{'id': 'en', 'title': 'English'}]
					}
				],
				
				//Application
				'application': {
					'id': 'content',
					'path': '/cms/content-manager-2',
					'icon': '/cms/supra/img/apps/content',
					'title': 'Pages'
				}

			});
			
			Supra.Authorization.setPermissions([
				{'id': [],		 				'allow': true},
				{'id': ['page'], 				'allow': true},
				{'id': ['page', 'delete'], 		'allow': true},
				{'id': ['page', 'create'], 		'allow': true},
				{'id': ['page', 'order'],  		'allow': true},
				{'id': ['page', 'edit'],  		'allow': true},
				{'id': ['page', 'publish'], 	'allow': true},
				{'id': ['block'],  				'allow': true},
				{'id': ['block', 'delete'],  	'allow': true},
				{'id': ['block', 'insert'],  	'allow': true},
				{'id': ['block', 'order'],  	'allow': true},
				{'id': ['block', 'edit'],  		'allow': true}
			]);
			
			
			//Load base actions
			Supra.Manager.loadActions(['Page', 'Root']);
			
			//Execute initial actions
			Supra.Manager.executeAction('Root');
			Supra.Manager.executeAction('Header');
		});
		
	//]]>
	</script>

</body>
</html>