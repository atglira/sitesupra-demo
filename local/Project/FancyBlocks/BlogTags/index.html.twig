<div class="block blog-tags">
	
	{% set heading_class = 'no-heading' %}
	{% if supra.cmsRequest or not supraBlock.isEmpty('block_title') %}
	<h3 class="heading block-title {% if supraBlock.isEmpty('block_title') %}hidden{% endif %}"><div>
		{{ supraBlock.property('block_title') }}
		{% set heading_class = 'has-heading' %}
	</div></h3>
	{% endif %}
	
	<div class="tags" data-attach="$.fn.blogTags" data-refresh-event="tabs-accordion" data-current-tag="{{ activeTag | url_encode }}">
		<ul class="tabs-headings clearfix">
			<li class="tabs-heading active">
				<a href="#tab_popular">{{ supraBlock.property("popular_title") }}</a>
			</li>
			<li class="tabs-heading">
				<a href="#tab_all" data-href="?block_id={{ supraBlock.block.id }}&getAllTags">{{ supraBlock.property("all_title") }}</a>
			</li>
		</ul>
		<div class="tabs-container">
		
			{% set path = blogPath ~ '?' %}
			
			<div class="tabs-content clearfix active" name="tab_popular">
				{% for tag in tags %}
					{% if tag.name %}
						<a class="tag {% if tag.name == activeTag %}active{% endif %}" href="{{ path }}tag={{ tag.name | url_encode }}">{{ tag.name }}</a>
					{% endif %}
				{% endfor %}
			</div>
			<div class="tabs-content clearfix" name="tab_all"></div>
			
			{% if activeTag %}<a class="clear-tags" href="{{ path }}">{{ supraBlock.property("clear_title") }}</a>{% endif %}
		</div>
	</div>
	
	{# Template which will be used to generate "All tags" content #}
	<script type="text/template">{% verbatim %}
		<a class="tag {{ active }}" href="{% endverbatim %}{{ path }}{% verbatim %}tag={{ tag.url }}">{{ tag.name }}</a>
	{% endverbatim %}</script>
	
</div>