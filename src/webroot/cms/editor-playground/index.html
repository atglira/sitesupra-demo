<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<title>YUI 3 + Supra</title>
	
	<!-- Load all base (YUI, Loader, Supra) JS files at once -->
	<script src="/cms/yui.3.3.0/combo/combo.php?/cms/yui.3.3.0/build/yui/yui-min.js&/cms/yui.3.3.0/build/loader/loader-min.js&/cms/supra/build/supra/supra.js&/cms/supra/build/supra/modules.js"></script>
	
	<!-- Load all base CSS files at once -->
	<link rel="stylesheet" type="text/css" href="/cms/yui.3.3.0/combo/combo.php?/cms/yui.3.3.0/build/cssreset/reset.css&/cms/supra/build/supra/reset.css&/cms/supra/build/supra/common.css" />
	
	<style type="text/css">
		* {
			padding: 0;
			margin: 0;
			border: 0;
		}
		iframe {
			border: 1px solid #ccc;
			width: 100%;
			height: 500px;
		}
		.cms-content {
			margin: 0;
			padding: 8px 20px 15px;
		}
		.hidden {
			display: none;
		}
		
		.yui3-editor-toolbar {
			padding: 5px 0;
		}
		
		#toolbar {
			padding: 0 0 5px;
		}
			#toolbar a {
				background: -moz-linear-gradient(top, #fff, #f3f3f3);
				-moz-border-radius: 3px;
				-moz-box-shadow: 0 1px 3px rgba(0,0,0,.1);
				display: inline-block;
				border: 1px  solid #999;
				width: 24px;
				height: 24px;
				line-height: 24px;
				text-align: center;
				text-decoration: none;
				color: #333;
				text-shadow: 0 -1px 0 #fff;
				outline: none;
			}
			#toolbar a:hover {
				background: -moz-linear-gradient(top, #FAFDFF, #EDF6FF);
				border-color: #537AA1;
				color: #537AA1;
			}
			#toolbar a.disabled,
			#toolbar a.disabled:hover {
				color: #999;
				background: #fff;
				border-color: #ccc;
				-moz-box-shadow: none;
				cursor: default;
			}
	</style>
</head>
<body>
	
	<div class="cms-content" id="cmsContent">
		
		<div id="toolbar"></div>
		<iframe src="iframe.html"></iframe>
		
	</div>
	
	<script type="text/javascript" src="/cms/editor-playground/website/config.js"></script>
	<script type="text/javascript">
		var editor;
		
		Supra('supra.manager', function (Y) {
			//Session ID is used in Ajax requests
			Supra.data.set({
				'session_name': 'SID',
				'session_id': 'REPLACE_WITH_SESSION_ID_STRING'
			});
			
			//Set website specific module path
			Supra.setWebsiteModulePath('/cms/editor-playground/website/');
			
			//Set current manager path
			Supra.Manager.Loader.setBasePath('/cms/content-manager-2/');
			
			//Load all required modules
			Supra('supra.htmleditor', 'supra.editor-toolbar', function (Y) {
				
				var iframe = Y.Node.getDOMNode(Y.one('iframe')),
					win = iframe.contentWindow,
					doc = win.document,
					//Node which content will be editable; node inside iframe
					node = new Y.Node(doc.getElementById('content'));
				
				var toolbar = new Supra.EditorToolbar();
				toolbar.render(Y.Node.getDOMNode(Y.one('#toolbar')));
				
				editor = new Supra.HTMLEditor({
					'win': win,
					'doc': doc,
					'srcNode': node,
					'toolbar': toolbar
				});
				
				editor.render();
				
			});
		});
		
	</script>

</body>
</html>