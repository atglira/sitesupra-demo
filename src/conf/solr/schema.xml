<?xml version="1.0" encoding="UTF-8" ?>

<schema name="supra7" version="1.4">
	<types>

		<fieldType name="string" class="solr.StrField" sortMissingLast="true" omitNorms="true"/>
		<fieldType name="boolean" class="solr.BoolField" sortMissingLast="true" omitNorms="true"/>
		<fieldtype name="binary" class="solr.BinaryField"/>
		
		<fieldType name="int" class="solr.TrieIntField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>
		<fieldType name="float" class="solr.TrieFloatField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>
		<fieldType name="long" class="solr.TrieLongField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>
		<fieldType name="double" class="solr.TrieDoubleField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>

		<fieldType name="date" class="solr.TrieDateField" omitNorms="true" precisionStep="6" positionIncrementGap="0"/>

		<fieldType name="random" class="solr.RandomSortField" indexed="true" />

		<fieldType name="text_general" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
			</analyzer>
		</fieldType>

		<fieldType name="text_en" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="en/stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.EnglishPossessiveFilterFactory"/>
				<filter class="solr.PorterStemFilterFactory"/>
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="en/stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.EnglishPossessiveFilterFactory"/>
				<filter class="solr.PorterStemFilterFactory"/>
			</analyzer>
		</fieldType>
		
		<fieldType name="text_ru" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="ru/stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="Russian" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="ru/stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="Russian" />
			</analyzer>
		</fieldType>

		<fieldType name="text_lv" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="lv/stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="lv/lv_LV.dic"
					affix="lv/lv_LV.aff"
					ignoreCase="true" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="lv/stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="lv/lv_LV.dic"
					affix="lv/lv_LV.aff"
					ignoreCase="true" />
			</analyzer>
		</fieldType>
		
		<fieldType name="text_lt" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="lt/stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="lt/lt_LT.dic"
					affix="lt/lt_LT.aff"
					ignoreCase="true" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="lt/stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="lt/lt_LT.dic"
					affix="lt/lt_LT.aff"
					ignoreCase="true" />
			</analyzer>
		</fieldType>
		
		<fieldType name="text_et" class="solr.TextField" positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="et/stopwords.txt" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="et/et_EE.dic"
					affix="et/et_EE.aff"
					ignoreCase="true" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.StandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true" words="et/stopwords.txt" />
				<filter class="solr.PositionFilterFactory" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.HunspellStemFilterFactory"
					dictionary="et/et_EE.dic"
					affix="et/et_EE.aff"
					ignoreCase="true" />
			</analyzer>
		</fieldType>
		
		<fieldtype name="ignored" stored="false" indexed="false" multiValued="true" class="solr.StrField" />
		<fieldType name="point" class="solr.PointType" dimension="2" subFieldSuffix="_d"/>
		<fieldType name="location" class="solr.LatLonType" subFieldSuffix="_coordinate"/>
		<fieldtype name="geohash" class="solr.GeoHashField"/>
		
	</types>


	<fields>
		<!-- Reuired for all indexed documents -->
		<field name="uniqueId" type="string" indexed="true" stored="true" required="true" />
		<field name="systemId" type="string" indexed="true" stored="true" required="true" /> 		
		<field name="class" type="string" indexed="true" stored="true" required="true" />
		
		<!-- Specific to PageLocalization objects -->
		<field name="revisionId" type="string" indexed="true" stored="true" required="false" />	 		
		<field name="schemaName" type="string" indexed="true" stored="true" required="false" />
		<field name="pageLocalizationId" type="string" indexed="true" stored="true" required="false" />
		<field name="localeId" type="string" indexed="true" stored="true" required="false" /> 
		<field name="pageId" type="string" indexed="true" stored="true" required="false" /> 
		<field name="text_general" type="text_general" indexed="true" stored="true" required="false" /> 
		<field name="title_general" type="text_general" indexed="true" stored="true" required="false" /> 
		<field name="createTime" type="date" indexed="true" stored="true" required="false" />
		<field name="modifyTime" type="date" indexed="true" stored="true" required="false" />
		<field name="active" type="boolean" indexed="true" stored="true" required="false" />
		<field name="text_lv" type="text_lv" indexed="true" stored="true" required="false" />
		<field name="text_en" type="text_en" indexed="true" stored="true" required="false" />	 
		<field name="text_ru" type="text_ru" indexed="true" stored="true" required="false" />	 		
		<field name="text_lt" type="text_lt" indexed="true" stored="true" required="false" />	 		
		<field name="text_et" type="text_et" indexed="true" stored="true" required="false" />	 		
		<field name="title_lv" type="text_lv" indexed="true" stored="true" required="false" />
		<field name="title_en" type="text_en" indexed="true" stored="true" required="false" />	 
		<field name="title_ru" type="text_ru" indexed="true" stored="true" required="false" />	 		
		<field name="title_lt" type="text_lt" indexed="true" stored="true" required="false" />	 		
		<field name="title_et" type="text_et" indexed="true" stored="true" required="false" />	 		
		<field name="author" type="string" indexed="true" stored="true" required="false" />
		<field name="keywords" type="string" indexed="true" stored="true" required="false" />
		<field name="description" type="string" indexed="true" stored="true" required="false" />
		<field name="pageWebPath" type="string" indexed="true" stored="true" required="false" />
		<field name="ancestorIds" type="string" indexed="true" stored="true" required="false" multiValued="true" />		
		
		<!-- Specific to PageLocalization objects -->
		<field name="isActive" type="boolean" indexed="true" stored="true" required="false" />		
		<field name="includeInSearch" type="boolean" indexed="true" stored="true" required="false" />
		<field name="isRedirected" type="boolean" indexed="true" stored="true" required="false" />
		<field name="isLimited" type="boolean" indexed="true" stored="true" required="false" />
		
	</fields>

 	<uniqueKey>uniqueId</uniqueKey>

	<defaultSearchField>text_general</defaultSearchField>

 <!-- SolrQueryParser configuration: defaultOperator="AND|OR" -->
	<solrQueryParser defaultOperator="OR"/>

</schema>
