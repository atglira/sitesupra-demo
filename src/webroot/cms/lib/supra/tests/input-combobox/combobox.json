<?php
	$words = array("a","ac","accumsan","adipiscing","aenean","aliquam","aliquet","amet","ante","arcu","at","auctor","augue","bibendum","blandit","commodo","condimentum","congue","consectetur","consequat","convallis","cras","cum","curabitur","cursus","dapibus","diam","dictum","dictumst","dignissim","dis","dolor","donec","dui","duis","egestas","eget","eleifend","elementum","elit","enim","erat","eros","est","et","etiam","eu","euismod","facilisi","facilisis","fames","faucibus","felis","fermentum","feugiat","fringilla","fusce","gravida","habitant","habitasse","hac","hendrerit","iaculis","id","imperdiet","in","integer","interdum","ipsum","justo","lacinia","lacus","laoreet","lectus","leo","libero","ligula","lobortis","lorem","luctus","maecenas","magna","magnis","malesuada","massa","mattis","mauris","metus","mi","molestie","mollis","montes","morbi","mus","nam","nascetur","natoque","nec","neque","netus","nibh","nisi","nisl","non","nulla","nullam","nunc","odio","orci","ornare","parturient","pellentesque","penatibus","pharetra","phasellus","placerat","platea","porta","porttitor","posuere","potenti","praesent","pretium","proin","pulvinar","purus","quam","quis","quisque","rhoncus","ridiculus","risus","rutrum","sagittis","sapien","scelerisque","sed","sem","semper","senectus","sit","sociis","sodales","sollicitudin","suscipit","suspendisse","tellus","tempor","tempus","tincidunt","tortor","tristique","turpis","ullamcorper","ultrices","ultricies","urna","ut","varius","vehicula","vel","velit","venenatis","vestibulum","vitae","vivamus","viverra","volutpat","vulputate");
	
	$query = (isset($_GET['q']) ? strtolower($_GET['q']) : '');
	if ($query) {
		$filtered = array();
		foreach ($words as $word) {
			if (strpos($word, $query) !== false) {
				$filtered[]= $word;
			}
		}
		$words = $filtered;
	}
	
	$total = count($words);
	$from = (isset($_GET['offset']) ? $_GET['offset'] : 0);
	$count = (isset($_GET['resultsPerRequest']) ? $_GET['resultsPerRequest'] : 20);
	
	$to = min($total, $from + $count);
	$data = array();
	
	for ($i=$from; $i<$to; $i++) {
		$data[] = array(
			'id' => $words[$i],
			'title' => ucwords($words[$i])
		);
	}
?>
{
	"status": 1,
	"data": {
		"total": <?php echo $total; ?>,
		"results": <?php echo json_encode($data); ?>
	}
}
